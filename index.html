<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Beaverhunt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style type="text/css">
		.tar{
			width: 100px;
			height: 100px;
			background-size: 100% 100%;
			position: absolute
		}
	</style>
 </head>
 <body style="background-image: url('bg.png'); background-size: cover" class="main">
	<button class="btn btn-light btn-lg">Start</button>
	<h1 class="text-center">Score: <span class="span">0</span></h1>

	<script type="text/javascript">
		let posY=[100, 300, 600]
		let btn=document.querySelector('.btn')
		let span=document.querySelector('.span')
		let score=0
		let interv
		let main=document.querySelector('.main')
		
		let createObj=function(){
			let obj=document.createElement('div');
			document.body.appendChild(obj);
			obj.classList.add('tar')
			randomX=Math.round(Math.random()*1500)
			obj.style.left=randomX+'px'
			indexY=Math.round(Math.random()*2)
			obj.style.top=posY[indexY]+'px'
			let type=['bad', 'good']
			let typeIndex=Math.round(Math.random()*1)
			obj.myType=type[typeIndex]
			if(obj.myType=='good'){
				obj.style.backgroundImage='url(kairizumi.png)'
			}else if(obj.myType=='bad'){
				obj.style.backgroundImage='url(fukase.png)'
			}
			obj.onclick=function(){
				obj.style.display='none'
				if(obj.myType=='good'){
					score=score+1
					span.innerHTML=score
				}else if(obj.myType=='bad'){
					score=score-1
					span.innerHTML=score
				}
			}
		}
		
		btn.onclick=function(){
			btn.style.display='none'
			interv
			setInterval(createObj, 500)
			setTimeout(finish, 10000)
		}

		let finish=function(){
			clearInterval(interv)
			if(score>=7){
				alert('You win')
				main.style.display='none'
			}else if(score<7){
				alert('You lose')
				main.style.display='none'
			}
		}
	</script>
  </body>
</html>


